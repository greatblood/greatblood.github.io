"use strict";(self["webpackChunkcheck_work_view"]=self["webpackChunkcheck_work_view"]||[]).push([[195],{344:function(e,t,r){r.d(t,{Bv:function(){return p},HD:function(){return c},Li:function(){return s},Ll:function(){return i},bR:function(){return f},dv:function(){return a},fM:function(){return u},h8:function(){return m},kn:function(){return l},x4:function(){return n},zd:function(){return d}});var o=r(8676);function n(e){return(0,o.Z)({url:"/student/login",method:"post",data:e})}function a(e){return(0,o.Z)({url:"/student/student/create",method:"post",data:e})}function u(){return(0,o.Z)({url:"/student/getByToken",method:"get",params:{},data:{}})}function i(){return(0,o.Z)({url:"/dashboard/student",method:"get",params:{},data:{}})}function l(e){return(0,o.Z)({url:"/work/course/find/student",method:"get",params:e,data:{}})}function s(e){return(0,o.Z)({url:"/work/course/join",method:"post",params:{},data:e})}function d(e){return(0,o.Z)({url:"/work/course/exitByStudent",method:"delete",params:e,data:{}})}function m(e){return(0,o.Z)({url:"/work/work/find",method:"get",params:e,data:{}})}function c(e){return(0,o.Z)({url:"/work/work/upload",method:"post",data:e})}function p(e){return(0,o.Z)({url:"/work/work/answer/details",method:"get",params:e,data:{}})}function f(e){return(0,o.Z)({url:"/manager/class/find",method:"get",params:e})}},8676:function(e,t,r){r.d(t,{Z:function(){return i}});r(7658);var o=r(4161);function n(){var e={token:sessionStorage.getItem("token"),user_id:sessionStorage.getItem("user_id"),type:sessionStorage.getItem("type")};return e}var a=r(7178);const u=o.Z.create({baseURL:"https://serve.xiongmaojiuxian.eu.org"});u.interceptors.request.use((e=>{var t=n();return""!=t.token&&(e.headers["token"]=t.token,e.headers["user_id"]=t.user_id,e.headers["type"]=t.type),e}),(e=>Promise.reject(e))),u.interceptors.response.use((e=>{if(console.log(e),401===e.data.code&&(console.log(1233),(0,a.z8)({message:e.data.msg,type:"error",duration:5e3}),router.push("/login")),400!==e.data.code)return e;(0,a.z8)({message:e.data.msg,type:"error",duration:5e3})}),(e=>{Promise.reject(e)}));var i=u},8195:function(e,t,r){r.r(t),r.d(t,{default:function(){return m}});var o=r(3396);const n=(0,o._)("div",{class:"el-upload__tip"}," jpg/png files with a size less than 500KB. ",-1),a=["src"];function u(e,t,r,u,i,l){const s=(0,o.up)("el-radio-button"),d=(0,o.up)("el-radio-group"),m=(0,o.up)("el-input"),c=(0,o.up)("el-form-item"),p=(0,o.up)("el-button"),f=(0,o.up)("el-upload"),w=(0,o.up)("Plus"),k=(0,o.up)("el-icon"),h=(0,o.up)("el-dialog"),g=(0,o.up)("el-form"),_=(0,o.up)("el-card");return(0,o.wg)(),(0,o.j4)(_,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{modelValue:i.mode,"onUpdate:modelValue":t[0]||(t[0]=e=>i.mode=e),size:"large"},{default:(0,o.w5)((()=>[(0,o.Wm)(s,{label:"上传文字"}),(0,o.Wm)(s,{label:"上传文件"}),(0,o.Wm)(s,{label:"上传图片"})])),_:1},8,["modelValue"]),(0,o.Wm)(g,{model:i.work,"label-width":"120px"},{default:(0,o.w5)((()=>[(0,o.Wm)(c,{label:"文字答案"},{default:(0,o.w5)((()=>[(0,o.Wm)(m,{modelValue:i.work.content,"onUpdate:modelValue":t[1]||(t[1]=e=>i.work.content=e),type:"textarea"},null,8,["modelValue"])])),_:1}),(0,o.Wm)(c,{label:"上传文件"},{default:(0,o.w5)((()=>[(0,o.Wm)(f,{"file-list":i.fileList,"onUpdate:fileList":t[2]||(t[2]=e=>i.fileList=e),class:"upload-demo",name:"work_file",action:"http://127.0.0.1:11002/reception/work/upload/file",limit:1,multiple:""},{tip:(0,o.w5)((()=>[n])),default:(0,o.w5)((()=>[(0,o.Wm)(p,{type:"primary",onClick:l.uploadWorkFile},{default:(0,o.w5)((()=>[(0,o.Uk)("上传作业文件")])),_:1},8,["onClick"])])),_:1},8,["file-list"])])),_:1}),(0,o.Wm)(c,{label:"上传图片"},{default:(0,o.w5)((()=>[(0,o.Wm)(f,{"file-list":i.PicList,"onUpdate:fileList":t[3]||(t[3]=e=>i.PicList=e),name:"work_file",action:"http://127.0.0.1:11002/reception/work/upload/file",limit:5,"list-type":"picture-card","on-preview":e.handlePictureCardPreview,"on-success":e.uploadSuccess,"on-remove":e.handleRemove},{default:(0,o.w5)((()=>[(0,o.Wm)(k,null,{default:(0,o.w5)((()=>[(0,o.Wm)(w)])),_:1})])),_:1},8,["file-list","on-preview","on-success","on-remove"]),(0,o.Wm)(h,{modelValue:e.dialogVisible,"onUpdate:modelValue":t[4]||(t[4]=t=>e.dialogVisible=t)},{default:(0,o.w5)((()=>[(0,o._)("img",{"w-full":"",src:e.dialogImageUrl,alt:"Preview Image"},null,8,a)])),_:1},8,["modelValue"])])),_:1}),(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(p,{type:"primary",onClick:t[5]||(t[5]=e=>l.onSubmit(i.mode))},{default:(0,o.w5)((()=>[(0,o.Uk)("提交作业")])),_:1})])),_:1})])),_:1},8,["model"])])),_:1})}var i=r(344),l={data(){return{form:{name:"",region:""},fileList:[],PicList:[],mode:"上传文字",work:{work_id:"",content:"",file_url:"",file_name:"",pic_url:[],work_type:0}}},methods:{uploadWorkFile(){},onSubmit(e){if("上传文字")this.work.work_type=1;else if("上传文件")this.work.work_type=2;else{if(!"上传图片")return void this.$message.error("请选择上传方式");this.work.work_type=3}this.fileList.length>0&&(this.work.file_url=this.fileList[0].response.data,this.work.file_name=this.fileList[0].name),(0,i.HD)(this.work).then((e=>{200!=e.data.code?this.$message.error(e.data.msg):this.$message({message:"上传作业成功",type:"success"})}))}}},s=r(89);const d=(0,s.Z)(l,[["render",u]]);var m=d}}]);
//# sourceMappingURL=195.42dca1f8.js.map