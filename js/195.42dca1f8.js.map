{"version":3,"file":"js/195.42dca1f8.js","mappings":"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","sources":["webpack://check-work-view/./src/api/student/api.js","webpack://check-work-view/./src/utils/auth.js","webpack://check-work-view/./src/utils/request.js","webpack://check-work-view/./src/views/student/uploadWork.vue","webpack://check-work-view/./src/views/student/uploadWork.vue?bca1"],"sourcesContent":["import request from '@/utils/request'\r\n\r\nexport function login(data) {\r\n    return request({\r\n        url: '/student/login',\r\n        method: 'post',\r\n        data\r\n    })\r\n}\r\n\r\n\r\n// 注册\r\nexport function student_create(data) {\r\n    return request({\r\n        url: '/student/student/create',\r\n        method: 'post',\r\n        data\r\n    })\r\n}\r\n// 学生获取信息\r\nexport function getByToken() {\r\n    return request({\r\n        url: '/student/getByToken',\r\n        method: 'get',\r\n        params: {},\r\n        data: {}\r\n    })\r\n}\r\n// 学生获取数据展示\r\nexport function getDashboard() {\r\n    return request({\r\n        url: '/dashboard/student',\r\n        method: 'get',\r\n        params: {},\r\n        data: {}\r\n    })\r\n}\r\n\r\n// 获取课程列表\r\nexport function course_find_student(data) {\r\n    return request({\r\n        url: '/work/course/find/student',\r\n        method: 'get',\r\n        params: data,\r\n        data: {},\r\n    })\r\n}\r\n\r\n\r\n// 加入课程\r\nexport function course_join(data) {\r\n    return request({\r\n        url: '/work/course/join',\r\n        method: 'post',\r\n        params: {},\r\n        data: data,\r\n    })\r\n}\r\n\r\n// 退出课程\r\nexport function course_exit(data) {\r\n    return request({\r\n        url: '/work/course/exitByStudent',\r\n        method: 'delete',\r\n        params: data,\r\n        data: {},\r\n    })\r\n}\r\n// 获取作业列表\r\nexport function work_find(data) {\r\n    return request({\r\n        url: '/work/work/find',\r\n        method: 'get',\r\n        params: data,\r\n        data: {},\r\n    })\r\n}\r\n//上传作业\r\nexport function work_upload(data) {\r\n    return request({\r\n        url: '/work/work/upload',\r\n        method: 'post',\r\n        data\r\n    })\r\n}\r\n// 查看上传作业详情\r\nexport function work_answer_details(data) {\r\n    return request({\r\n        \r\n        url: '/work/work/answer/details',\r\n        method: 'get',\r\n        params: data,\r\n        data: {},\r\n    })\r\n}\r\n\r\n// 获取班级列表\r\nexport function class_find(data) {\r\n    return request({\r\n        url: '/manager/class/find',\r\n        method: 'get',\r\n        params: data\r\n    })\r\n}","export function getToken() {\r\n    var res = {\r\n        token: sessionStorage.getItem('token'),\r\n        user_id: sessionStorage.getItem('user_id'),\r\n        type: sessionStorage.getItem('type')\r\n    }\r\n    return res\r\n}\r\nexport function setToken(token) {\r\n    return Cookies.set(TokenKey, token)\r\n}\r\nexport function removeToken() {\r\n    return Cookies.remove(TokenKey)\r\n}","import axios from 'axios'\r\nimport { getToken } from './auth';\r\nimport { ElMessage } from 'element-plus'\r\n// import store from '@/store'\r\n\r\nconst service = axios.create({\r\n  // withCredentials: true,\r\n  // baseURL: 'http://127.0.0.1:11002' // dev\r\n  // baseURL: 'http://101.200.87.232:11002'\r\n   baseURL: 'https://serve.xiongmaojiuxian.eu.org'\r\n\r\n})\r\n\r\n\r\n// 请求拦截器,通过拼接get请求\r\nservice.interceptors.request.use(\r\n  config => {\r\n    var res = getToken()\r\n    if (res.token != \"\") {\r\n      config.headers['token'] = res.token\r\n      config.headers['user_id'] = res.user_id\r\n      config.headers['type'] = res.type\r\n    }\r\n    return config\r\n  },\r\n  error => {\r\n    return Promise.reject(error);\r\n  }\r\n)\r\n\r\nservice.interceptors.response.use(\r\n  res => {\r\n    console.log(res)\r\n    if (res.data.code === 401) {\r\n      console.log(1233);\r\n      ElMessage({\r\n        message: res.data.msg,\r\n        type: 'error',\r\n        duration: 5 * 1000\r\n      })\r\n      router.push('/login')\r\n    }\r\n    if (res.data.code === 400) {\r\n      ElMessage({\r\n        message: res.data.msg,\r\n        type: 'error',\r\n        duration: 5 * 1000\r\n      })\r\n    }\r\n    else {\r\n      return res\r\n    }\r\n  },\r\n  err => {\r\n    Promise.reject(err)\r\n  }\r\n)\r\n\r\nexport default service","<template>\r\n    <el-card>\r\n        <el-radio-group v-model=\"mode\" size=\"large\">\r\n            <el-radio-button label=\"上传文字\" />\r\n            <el-radio-button label=\"上传文件\" />\r\n            <el-radio-button label=\"上传图片\" />\r\n        </el-radio-group>\r\n        <el-form :model=\"work\" label-width=\"120px\">\r\n            <el-form-item label=\"文字答案\">\r\n                <el-input v-model=\"work.content\" type=\"textarea\" />\r\n            </el-form-item>\r\n\r\n            <el-form-item label=\"上传文件\">\r\n                <el-upload v-model:file-list=\"fileList\" class=\"upload-demo\" name=\"work_file\"\r\n                    action=\"http://127.0.0.1:11002/reception/work/upload/file\" :limit=1 multiple>\r\n                    <el-button type=\"primary\" @click=\"uploadWorkFile\">上传作业文件</el-button>\r\n                    <template #tip>\r\n                        <div class=\"el-upload__tip\">\r\n                            jpg/png files with a size less than 500KB.\r\n                        </div>\r\n                    </template>\r\n                </el-upload>\r\n            </el-form-item>\r\n\r\n            <el-form-item label=\"上传图片\">\r\n                <el-upload v-model:file-list=\"PicList\" name=\"work_file\"\r\n                    action=\"http://127.0.0.1:11002/reception/work/upload/file\" :limit=5 list-type=\"picture-card\"\r\n                    :on-preview=\"handlePictureCardPreview\"  :on-success=\"uploadSuccess\" :on-remove=\"handleRemove\">\r\n                    <el-icon>\r\n                        <Plus />\r\n                    </el-icon>\r\n                </el-upload>\r\n\r\n                <el-dialog v-model=\"dialogVisible\">\r\n                    <img w-full :src=\"dialogImageUrl\" alt=\"Preview Image\" />\r\n                </el-dialog>\r\n            </el-form-item>\r\n\r\n            <el-form-item>\r\n                <el-button type=\"primary\" @click=\"onSubmit(mode)\">提交作业</el-button>\r\n            </el-form-item>\r\n        </el-form>\r\n    </el-card>\r\n</template>\r\n  \r\n<script>\r\nimport { ElMessage, ElMessageBox } from 'element-plus'\r\nimport { work_upload } from '@/api/student/api.js'\r\nexport default {\r\n    data() {\r\n        return {\r\n            form: {\r\n                name: '',\r\n                region: '',\r\n            },\r\n            fileList: [],\r\n            PicList: [],\r\n            mode: \"上传文字\",\r\n            work: {\r\n                \"work_id\": \"\",\r\n                \"content\": \"\",\r\n                \"file_url\": \"\",\r\n                \"file_name\": \"\",\r\n                \"pic_url\": [],\r\n                \"work_type\": 0,\r\n            },\r\n        }\r\n    },\r\n    methods: {\r\n        uploadWorkFile() {\r\n            // console.log(this.fileList);\r\n            //  this.fileList = []\r\n        },\r\n        onSubmit(mode) {\r\n            if (mode = \"上传文字\") {\r\n                this.work.work_type = 1\r\n            } else {\r\n                if (mode = \"上传文件\") {\r\n                    this.work.work_type = 2\r\n                } else {\r\n                    if (mode = \"上传图片\") {\r\n                        this.work.work_type = 3\r\n                    } else {\r\n                        this.$message.error(\"请选择上传方式\");\r\n                        return\r\n                    }\r\n                }\r\n            }\r\n\r\n\r\n            if (this.fileList.length > 0) {\r\n                this.work.file_url = this.fileList[0].response.data\r\n                this.work.file_name = this.fileList[0].name\r\n                // console.log(this.work);\r\n            }\r\n            work_upload(this.work).then(res => {\r\n                if (res.data.code != 200) {\r\n                    this.$message.error(res.data.msg);\r\n                } else {\r\n                    this.$message({\r\n                        message: '上传作业成功',\r\n                        type: 'success',\r\n                    });\r\n                }\r\n            })\r\n        },\r\n    }\r\n}\r\n\r\n\r\n</script>\r\n  \r\n<style>\r\n.inof {\r\n    position: relative;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, 30%);\r\n    padding: 5%\r\n}\r\n</style>","import { render } from \"./uploadWork.vue?vue&type=template&id=37a4fa04\"\nimport script from \"./uploadWork.vue?vue&type=script&lang=js\"\nexport * from \"./uploadWork.vue?vue&type=script&lang=js\"\n\nimport \"./uploadWork.vue?vue&type=style&index=0&id=37a4fa04&lang=css\"\n\nimport exportComponent from \"C:\\\\WorkSpace\\\\vue\\\\check-work-system\\\\check-work-reception\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["login","data","request","url","method","student_create","getByToken","params","getDashboard","course_find_student","course_join","course_exit","work_find","work_upload","work_answer_details","class_find","getToken","res","token","sessionStorage","getItem","user_id","type","service","axios","baseURL","interceptors","use","config","headers","error","Promise","reject","response","console","log","code","ElMessage","message","msg","duration","router","push","err","_createElementVNode","class","_createBlock","_component_el_card","_createVNode","_component_el_radio_group","$data","mode","$event","size","_component_el_radio_button","label","_component_el_form","model","work","_component_el_form_item","_component_el_input","content","_component_el_upload","fileList","name","action","limit","multiple","tip","_withCtx","_hoisted_1","_component_el_button","onClick","$options","uploadWorkFile","PicList","_ctx","handlePictureCardPreview","uploadSuccess","handleRemove","_component_el_icon","_component_Plus","_component_el_dialog","dialogVisible","src","dialogImageUrl","alt","_cache","onSubmit","form","region","methods","this","work_type","$message","length","file_url","file_name","then","__exports__","render"],"sourceRoot":""}