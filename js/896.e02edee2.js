"use strict";(self["webpackChunkcheck_work_view"]=self["webpackChunkcheck_work_view"]||[]).push([[896],{344:function(e,t,a){a.d(t,{Bv:function(){return c},HD:function(){return h},Li:function(){return u},Ll:function(){return l},bR:function(){return p},dv:function(){return o},fM:function(){return i},h8:function(){return m},kn:function(){return d},x4:function(){return n},zd:function(){return s}});var r=a(8676);function n(e){return(0,r.Z)({url:"/student/login",method:"post",data:e})}function o(e){return(0,r.Z)({url:"/student/student/create",method:"post",data:e})}function i(){return(0,r.Z)({url:"/student/getByToken",method:"get",params:{},data:{}})}function l(){return(0,r.Z)({url:"/dashboard/student",method:"get",params:{},data:{}})}function d(e){return(0,r.Z)({url:"/work/course/find/student",method:"get",params:e,data:{}})}function u(e){return(0,r.Z)({url:"/work/course/join",method:"post",params:{},data:e})}function s(e){return(0,r.Z)({url:"/work/course/exitByStudent",method:"delete",params:e,data:{}})}function m(e){return(0,r.Z)({url:"/work/work/find",method:"get",params:e,data:{}})}function h(e){return(0,r.Z)({url:"/work/work/upload",method:"post",data:e})}function c(e){return(0,r.Z)({url:"/work/work/answer/details",method:"get",params:e,data:{}})}function p(e){return(0,r.Z)({url:"/manager/class/find",method:"get",params:e})}},2896:function(e,t,a){a.r(t),a.d(t,{default:function(){return h}});var r=a(3396);const n={key:0,style:{display:"flex","flex-direction":"row-reverse","margin-top":"10px"}};function o(e,t,a,o,i,l){const d=(0,r.up)("el-input"),u=(0,r.up)("el-form-item"),s=(0,r.up)("el-button"),m=(0,r.up)("el-form"),h=(0,r.up)("el-card"),c=(0,r.up)("el-table-column"),p=(0,r.up)("el-tag"),w=(0,r.up)("el-table"),g=(0,r.up)("el-pagination");return(0,r.wg)(),(0,r.iD)("div",null,[(0,r.Wm)(h,{class:"header"},{default:(0,r.w5)((()=>[(0,r.Wm)(m,{inline:!0,class:"headerForm",model:i.searchHeaderForm},{default:(0,r.w5)((()=>[(0,r.Wm)(u,null,{default:(0,r.w5)((()=>[(0,r.Wm)(d,{clearable:"",modelValue:i.searchHeaderForm.find,"onUpdate:modelValue":t[0]||(t[0]=e=>i.searchHeaderForm.find=e),placeholder:"请输入名称"},null,8,["modelValue"])])),_:1}),(0,r.Wm)(s,{type:"primary",onClick:l.getDatas},{default:(0,r.w5)((()=>[(0,r.Uk)("查询")])),_:1},8,["onClick"])])),_:1},8,["model"])])),_:1}),(0,r.Wm)(h,null,{default:(0,r.w5)((()=>[(0,r.Wm)(w,{data:i.tableData,border:"",style:{width:"100%"},"header-cell-style":{background:"#F3F4F7",color:"#555"}},{default:(0,r.w5)((()=>[(0,r.Wm)(c,{prop:"title_name",label:"作业名称","min-width":"200"}),(0,r.Wm)(c,{prop:"course_name",label:"课程","min-width":"200"}),(0,r.Wm)(c,{label:"作业状态","min-width":"200"},{default:(0,r.w5)((e=>[i.nowTime<e.row.start_time?((0,r.wg)(),(0,r.j4)(p,{key:0,type:"danger",size:"small"},{default:(0,r.w5)((()=>[(0,r.Uk)(" 未开始")])),_:1})):(0,r.kq)("",!0),i.nowTime>e.row.start_time&&i.nowTime<e.row.end_time?((0,r.wg)(),(0,r.j4)(p,{key:1,type:"success",size:"small"},{default:(0,r.w5)((()=>[(0,r.Uk)(" 进行中")])),_:1})):(0,r.kq)("",!0),i.nowTime>e.row.end_time?((0,r.wg)(),(0,r.j4)(p,{key:2,type:"warning",size:"small"},{default:(0,r.w5)((()=>[(0,r.Uk)(" 已结束")])),_:1})):(0,r.kq)("",!0)])),_:1}),(0,r.Wm)(c,{label:"是否提交","min-width":"200"},{default:(0,r.w5)((e=>[0==e.row.isUpload?((0,r.wg)(),(0,r.j4)(p,{key:0,type:"danger",size:"small"},{default:(0,r.w5)((()=>[(0,r.Uk)(" 未提交")])),_:1})):(0,r.kq)("",!0),0!=e.row.isUpload?((0,r.wg)(),(0,r.j4)(p,{key:1,type:"success",size:"small"},{default:(0,r.w5)((()=>[(0,r.Uk)(" 已提交")])),_:1})):(0,r.kq)("",!0)])),_:1}),(0,r.Wm)(c,{prop:"start_time",label:"开始时间","min-width":"200"}),(0,r.Wm)(c,{prop:"end_time",label:"结束时间","min-width":"200"}),(0,r.Wm)(c,{align:"center",fixed:"right",label:"操作",width:"200"},{default:(0,r.w5)((e=>[(0,r.Wm)(s,{type:"primary",onClick:t=>l.showCourseDetails(e.row._id)},{default:(0,r.w5)((()=>[(0,r.Uk)("详情")])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"]),0!==i.tableData.length?((0,r.wg)(),(0,r.iD)("div",n,[(0,r.Wm)(g,{"current-page":i.currentPage,"page-size":i.pageSize,total:i.total,"page-sizes":[10,20,50,100],background:"",layout:"total, sizes, prev, pager, next, jumper",onSizeChange:l.handleSizeChange,onCurrentChange:l.handleCurrentChange},null,8,["current-page","page-size","total","onSizeChange","onCurrentChange"])])):(0,r.kq)("",!0)])),_:1})])}a(7658);var i=a(344),l=a(6797),d=a.n(l),u={data(){return{nowTime:d()().format("YYYY-MM-DD HH:mm:ss"),tableData:[],isCollapse:!1,search:"",operaDialog:!1,dialogTitle:"",pageSize:10,total:0,currentPage:1,opera:"",operaForm:{name:"",department:"",grade:""},searchHeaderForm:{find:""},options:[]}},created(){this.getDatas()},methods:{desearch(){this.searchHeaderForm={find:""},this.getDatas()},handleData(e,t){"add"==e?(this.operaForm={},this.dialogTitle="添加API",this.opera="add"):"update"==e&&(this.operaForm={...t},//!!! 直接赋值是引用类型,引起表单重置问题
this.dialogTitle="编辑API",this.opera="update"),this.operaDialog=!0},handleSizeChange(e){this.pageSize=e,this.getDatas()},handleCurrentChange(e){this.currentPage=e,this.getDatas()},async getDatas(){const e={page:this.currentPage,page_size:this.pageSize,search:this.searchHeaderForm.find},t=await(0,i.h8)(e);200===t.data.code&&(t.data.data?(this.total=t.data.data.count,null==t.data.data.data?this.tableData=[]:this.tableData=t.data.data.data):(this.total=t.data.data.count,this.tableData=[]))},showCourseDetails(e){this.$router.push({path:"/student/workDetails",query:{work_id:e}})},resetForm(){this.$refs.operaForm.clearValidate(),this.operaForm={},this.operaDialog=!1}}},s=a(89);const m=(0,s.Z)(u,[["render",o],["__scopeId","data-v-741b1778"]]);var h=m}}]);
//# sourceMappingURL=896.e02edee2.js.map