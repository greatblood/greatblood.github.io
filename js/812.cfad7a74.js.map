{"version":3,"file":"js/812.cfad7a74.js","mappings":"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","sources":["webpack://check-work-view/./src/api/manager/api.js","webpack://check-work-view/./src/utils/auth.js","webpack://check-work-view/./src/utils/request.js","webpack://check-work-view/./src/views/manager/teacherRole.vue","webpack://check-work-view/./src/views/manager/teacherRole.vue?deff"],"sourcesContent":["import request from '@/utils/request'\r\n\r\n// 管理员登录\r\nexport function login(data) {\r\n    return request({\r\n        url: '/manager/login',\r\n        method: 'post',\r\n        data\r\n    })\r\n}\r\n// 管理员获取信息\r\nexport function getByToken() {\r\n    return request({\r\n        url: '/manager/getByToken',\r\n        method: 'get',\r\n        params: {},\r\n        data: {}\r\n    })\r\n}\r\n\r\n// 创建管理员\r\nexport function createManager(data) {\r\n    const url = '/manager/manager/create'\r\n    return request.post(url, data)\r\n}\r\n// 删除管理员\r\nexport function deleteManager(data) {\r\n    console.log(data);\r\n    return request({\r\n        url: '/manager/manager/delete',\r\n        method: 'delete',\r\n        params: data\r\n    })\r\n}\r\n// 修改管理员信息\r\nexport function updateManager(data) {\r\n    const url = '/manager/manager/update'\r\n    return request.put(url, data)\r\n}\r\n\r\n// 修改管理员密码\r\nexport function updateManagerPassword(data) {\r\n    const url = '/manager/manager/update/password'\r\n    return request.put(url, data)\r\n}\r\n// 重置管理员密码\r\nexport function manager_reset_password(data) {\r\n    return request({\r\n        url: '/manager/manager/resetPassword',\r\n        method: 'get',\r\n        params: data,\r\n        data: {}\r\n    })\r\n}\r\n// 获取管理员列表\r\nexport function findManager(data) {\r\n    return request({\r\n        url: '/manager/manager/find',\r\n        method: 'get',\r\n        params: data\r\n    })\r\n}\r\n\r\n// 创建Api\r\nexport function function_create(data) {\r\n    const url = '/manager/function/create'\r\n    return request.post(url, data)\r\n}\r\n// 删除Api\r\nexport function function_delete(data) {\r\n    console.log(data);\r\n    return request({\r\n        url: '/manager/function/delete',\r\n        method: 'delete',\r\n        params: data\r\n    })\r\n}\r\n// 修改Api信息\r\nexport function function_update(data) {\r\n    const url = '/manager/function/update'\r\n    return request.put(url, data)\r\n}\r\n// 获取Api列表\r\nexport function function_find(data) {\r\n    return request({\r\n        url: '/manager/function/find',\r\n        method: 'get',\r\n        params: data\r\n    })\r\n}\r\n\r\n// 修改权限获取功能列表\r\nexport function function_find_by_role(data) {\r\n    return request({\r\n        url: '/manager/function/findByRole',\r\n        method: 'get',\r\n        params: data\r\n    })\r\n}\r\n\r\n\r\n// 创建教师角色\r\nexport function teacher_role_create(data) {\r\n    const url = '/manager/teacherRole/create'\r\n    return request.post(url, data)\r\n}\r\n// 删除教师角色\r\nexport function teacher_role_delete(data) {\r\n    console.log(data);\r\n    return request({\r\n        url: '/manager/teacherRole/delete',\r\n        method: 'delete',\r\n        params: data\r\n    })\r\n}\r\n// 修改教师角色信息\r\nexport function teacher_role_update(data) {\r\n    const url = '/manager/teacherRole/update'\r\n    return request.put(url, data)\r\n}\r\n// 获取教师角色列表\r\nexport function teacher_role_find(data) {\r\n    return request({\r\n        url: '/manager/teacherRole/find',\r\n        method: 'get',\r\n        params: data\r\n    })\r\n}\r\n\r\n\r\n\r\n\r\n// 创建教师\r\nexport function teacher_create(data) {\r\n    const url = '/manager/teacher/create'\r\n    return request.post(url, data)\r\n}\r\n// 删除教师\r\nexport function teacher_delete(data) {\r\n    console.log(data);\r\n    return request({\r\n        url: '/manager/teacher/delete',\r\n        method: 'delete',\r\n        params: data\r\n    })\r\n}\r\n// 修改教师信息\r\nexport function teacher_update(data) {\r\n    const url = '/manager/teacher/update'\r\n    return request.put(url, data)\r\n}\r\nexport function teacher_update_password(data) {\r\n    return request({\r\n        url: '/manager/teacher/update/password',\r\n        method: 'put',\r\n        params: {},\r\n        data: data\r\n    })\r\n}\r\n// 获取教师列表\r\nexport function teacher_find(data) {\r\n    return request({\r\n        url: '/manager/teacher/find',\r\n        method: 'get',\r\n        params: data,\r\n        data: {}\r\n    })\r\n}\r\nexport function teacher_reset_password(data) {\r\n    return request({\r\n        url: '/manager/teacher/resetPassword',\r\n        method: 'get',\r\n        params: data,\r\n        data: {}\r\n    })\r\n}\r\n\r\n\r\n\r\n\r\n// 创建班级\r\nexport function class_create(data) {\r\n    return request({\r\n        url: '/manager/class/create',\r\n        method: 'post',\r\n        params: {},\r\n        data: data\r\n\r\n    })\r\n}\r\n// 删除班级\r\nexport function class_delete(data) {\r\n    return request({\r\n        url: '/manager/class/delete',\r\n        method: 'delete',\r\n        params: data,\r\n        data: {}\r\n    })\r\n}\r\n// 修改班级信息\r\nexport function class_update(data) {\r\n    return request({\r\n        url: '/manager/class/update',\r\n        method: 'put',\r\n        params: {},\r\n        data: data\r\n    })\r\n}\r\n// 获取班级列表\r\nexport function class_find(data) {\r\n    return request({\r\n        url: '/manager/class/find',\r\n        method: 'get',\r\n        params: data,\r\n        data: {},\r\n    })\r\n}\r\n\r\n\r\n\r\n// 学生\r\nexport function student_create(data) {\r\n    return request({\r\n        url: '/manager/student/create',\r\n        method: 'post',\r\n        params: {},\r\n        data: data\r\n\r\n    })\r\n}\r\n\r\nexport function student_delete(data) {\r\n    return request({\r\n        url: '/manager/student/delete',\r\n        method: 'delete',\r\n        params: data,\r\n        data: {}\r\n    })\r\n}\r\n\r\nexport function student_update(data) {\r\n    return request({\r\n        url: '/manager/student/update',\r\n        method: 'put',\r\n        params: {},\r\n        data: data\r\n    })\r\n}\r\nexport function student_update_password(data) {\r\n    return request({\r\n        url: '/manager/student/update/password',\r\n        method: 'put',\r\n        params: {},\r\n        data: data\r\n    })\r\n}\r\n\r\nexport function student_reset_password(data) {\r\n    return request({\r\n        url: '/manager/student/resetPassword',\r\n        method: 'get',\r\n        params: data,\r\n        data: {}\r\n    })\r\n}\r\n\r\n\r\nexport function student_find(data) {\r\n    return request({\r\n        url: '/manager/student/find',\r\n        method: 'get',\r\n        params: data,\r\n        data: {},\r\n    })\r\n}\r\n","export function getToken() {\r\n    var res = {\r\n        token: sessionStorage.getItem('token'),\r\n        user_id: sessionStorage.getItem('user_id'),\r\n        type: sessionStorage.getItem('type')\r\n    }\r\n    return res\r\n}\r\nexport function setToken(token) {\r\n    return Cookies.set(TokenKey, token)\r\n}\r\nexport function removeToken() {\r\n    return Cookies.remove(TokenKey)\r\n}","import axios from 'axios'\r\nimport { getToken } from './auth';\r\nimport { ElMessage } from 'element-plus'\r\n// import store from '@/store'\r\n\r\nconst service = axios.create({\r\n  // withCredentials: true,\r\n  // baseURL: 'http://127.0.0.1:11002' // dev\r\n  baseURL: 'http://101.200.87.232:11002'\r\n  //  baseURL: 'https://serve.xiongmaojiuxian.eu.org'\r\n\r\n})\r\n\r\n\r\n// 请求拦截器,通过拼接get请求\r\nservice.interceptors.request.use(\r\n  config => {\r\n    var res = getToken()\r\n    if (res.token != \"\") {\r\n      config.headers['token'] = res.token\r\n      config.headers['user_id'] = res.user_id\r\n      config.headers['type'] = res.type\r\n    }\r\n    return config\r\n  },\r\n  error => {\r\n    return Promise.reject(error);\r\n  }\r\n)\r\n\r\nservice.interceptors.response.use(\r\n  res => {\r\n    console.log(res)\r\n    if (res.data.code === 401) {\r\n      console.log(1233);\r\n      ElMessage({\r\n        message: res.data.msg,\r\n        type: 'error',\r\n        duration: 5 * 1000\r\n      })\r\n      router.push('/login')\r\n    }\r\n    if (res.data.code === 400) {\r\n      ElMessage({\r\n        message: res.data.msg,\r\n        type: 'error',\r\n        duration: 5 * 1000\r\n      })\r\n    }\r\n    else {\r\n      return res\r\n    }\r\n  },\r\n  err => {\r\n    Promise.reject(err)\r\n  }\r\n)\r\n\r\nexport default service","<template>\r\n    <div>\r\n        <el-card class=\"header\">\r\n            <el-form :inline=\"true\" class=\"headerForm\" :model=\"searchHeaderForm\">\r\n                <el-form-item><el-input clearable v-model=\"searchHeaderForm.find\" placeholder=\"请输入名称\"></el-input>\r\n                </el-form-item>\r\n                <el-button type=\"primary\" @click=\"getDatas\">查询</el-button>\r\n                <el-button class=\"searchBtn\" type=\"primary\" @click=\"handleData('add')\">添 加</el-button>\r\n            </el-form>\r\n        </el-card>\r\n        <el-card>\r\n            <el-table :data=\"tableData\" border style=\"width: 100%\"\r\n                :header-cell-style=\"{ background: '#F3F4F7', color: '#555' }\">\r\n                <el-table-column prop=\"name\" label=\"角色名称\" min-width=\"200\">\r\n                </el-table-column>\r\n                <el-table-column prop=\"create_time\" label=\"创建时间\" min-width=\"200\">\r\n                </el-table-column>\r\n                <el-table-column align=\"center\" fixed=\"right\" label=\"权限\" width=\"200\">\r\n                    <template #default=\"scope\">\r\n                        <el-button type=\"primary\" @click=\"upApis(scope.row)\">设置权限</el-button>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column align=\"center\" fixed=\"right\" label=\"操作\" width=\"200\">\r\n                    <template #default=\"scope\">\r\n                        <el-button type=\"primary\" @click=\"handleData('update', scope.row)\">修改</el-button>\r\n                        <el-button type=\"danger\" @click=\"deleteData(scope.row._id)\">删除</el-button>\r\n                    </template>\r\n                </el-table-column>\r\n            </el-table>\r\n            <div v-if=\"tableData.length !== 0\" style=\"display: flex; flex-direction: row-reverse; margin-top: 10px\">\r\n                <el-pagination :current-page=\"currentPage\" :page-size=\"pageSize\" :total=\"total\"\r\n                    :page-sizes=\"[10, 20, 50, 100]\" background layout=\"total, sizes, prev, pager, next, jumper\"\r\n                    @size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\" />\r\n            </div>\r\n        </el-card>\r\n        <el-dialog :modal-append-to-body=\"false\" v-model=\"operaDialog\" :title=\"dialogTitle\" @close=\"resetForm\">\r\n            <el-form status-icon :model=\"operaForm\" ref=\"operaForm\" class=\"operaDialog\" label-width=\"100px\" :rules=\"rules\">\r\n                <el-form-item label=\"角色名称\" prop=\"name\">\r\n                    <el-input v-model=\"operaForm.name\" />\r\n                </el-form-item>\r\n                <el-form-item>\r\n                    <el-button type=\"primary\" @click=\"submitForm()\">提交</el-button>\r\n                    <el-button @click=\"resetForm\">取消</el-button>\r\n                </el-form-item>\r\n            </el-form>\r\n\r\n        </el-dialog>\r\n        <el-drawer v-model=\"drawer\" :with-header=\"false\">\r\n            <el-button class=\"fl-right\" type=\"primary\" @click=\"upApisEnter\">确 定</el-button>\r\n            <el-tree ref=\"apiTree\" :data=\"treedata\" :props=\"defaultProps\" :default-checked-keys=\"apiTreeIds\" accordion\r\n                show-checkbox default-expand-all highlight-current node-key=\"_id\">\r\n            </el-tree>\r\n        </el-drawer>\r\n    </div>\r\n</template>\r\n<script>\r\nimport {\r\n    teacher_role_find,\r\n    teacher_role_create,\r\n    teacher_role_delete,\r\n    teacher_role_update,\r\n    function_find_by_role,\r\n} from '@/api/manager/api.js'\r\n// eslint-disable-next-line no-unused-vars\r\nexport default {\r\n    data() {\r\n\r\n\r\n\r\n        return {\r\n            tableData: [],\r\n            // 控制收缩\r\n            isCollapse: false,\r\n            drawer: false,\r\n            search: \"\",\r\n            operaDialog: false,\r\n            dialogTitle: \"\",\r\n            pageSize: 10, // 分页的页面大小\r\n            total: 0, // 分页的数据总数\r\n            currentPage: 1, // 分页的当前页\r\n            opera: \"\",\r\n            operaForm: {\r\n                name: \"\",\r\n            },\r\n            //查询\r\n            searchHeaderForm: {\r\n                find: '',\r\n            },\r\n            updateRole: {},\r\n            treedata: [],\r\n            apiTreeIds: [],\r\n            defaultProps: {\r\n                children: \"apis\",\r\n                label: \"name\",\r\n            },\r\n\r\n        }\r\n    },\r\n    created() {\r\n        this.getDatas()\r\n        this.getAllApi()\r\n    },\r\n    methods: {\r\n        getAllApi() {\r\n            function_find_by_role().then((res) => {\r\n                if (res.data.code === 200) {\r\n                    this.treedata = this.buildApiTree(res.data.data)\r\n                }\r\n            })\r\n        },\r\n        buildApiTree(apis) {\r\n            apis && apis.forEach(item => {\r\n                item.name = item.group + '组'\r\n            })\r\n            console.log(apis);\r\n            return apis\r\n        },\r\n        desearch() {\r\n            this.searchHeaderForm = {\r\n                find: '',\r\n            },\r\n                this.getDatas()\r\n        },\r\n        handleData(handle, row) {\r\n            if (handle == \"add\") {\r\n                this.operaForm = {}\r\n                this.dialogTitle = \"添加角色\"\r\n                this.opera = \"add\"\r\n            } else if (handle == \"update\") {\r\n                this.operaForm = { ...row } //!!! 直接赋值是引用类型,引起表单重置问题\r\n                this.dialogTitle = \"编辑角色\"\r\n                this.opera = \"update\"\r\n            }\r\n            this.operaDialog = true\r\n        },\r\n        handleSizeChange(value) {\r\n            // 改变页面大小\r\n            this.pageSize = value\r\n            this.getDatas()\r\n        },\r\n        handleCurrentChange(value) {\r\n            // 改变页数\r\n            this.currentPage = value\r\n            this.getDatas()\r\n        },\r\n        async getDatas() {\r\n            const params = {\r\n                page: this.currentPage,\r\n                page_size: this.pageSize,\r\n                search: this.searchHeaderForm.find,\r\n            }\r\n            const res = await teacher_role_find(params)\r\n            if (res.data.code === 200) {\r\n                if (res.data.data) {\r\n                    this.total = res.data.data.count\r\n                    this.tableData = res.data.data.data\r\n                    if (res.data.data.data == null) {\r\n                        this.tableData = []\r\n                    }\r\n                } else {\r\n                    this.total = res.data.data.count\r\n                    this.tableData = []\r\n                }\r\n            }\r\n        },\r\n        addData() {\r\n            teacher_role_create(this.operaForm).then((res) => {\r\n                console.log(res);\r\n                if (res.data.code === 200) {\r\n                    this.$message({\r\n                        showClose: true,\r\n                        message: \"创建成功\",\r\n                        type: \"success\",\r\n                    })\r\n                    this.operaDialog = false\r\n                    this.getDatas()\r\n                }\r\n            })\r\n        },\r\n        deleteData(data) {\r\n            teacher_role_delete({ _id: data }).then((res) => {\r\n                if (res.data.code === 200) {\r\n                    this.$message({\r\n                        showClose: true,\r\n                        message: \"删除成功\",\r\n                        type: \"success\",\r\n                    })\r\n                    this.operaDialog = false\r\n                    this.getDatas()\r\n                }\r\n            })\r\n        },\r\n        editData() {\r\n            teacher_role_update(this.operaForm).then((res) => {\r\n                if (res.data.code === 200) {\r\n                    this.$message({\r\n                        showClose: true,\r\n                        message: res.data.msg,\r\n                        type: \"success\",\r\n                    })\r\n                    this.operaDialog = false\r\n                    this.getDatas()\r\n                }\r\n            })\r\n        },\r\n\r\n        submitForm() {\r\n            this.$refs.operaForm.validate((valid) => {\r\n                if (valid) {\r\n                    if (this.opera === \"add\") {\r\n                        this.addData()\r\n                    } else {\r\n                        this.editData()\r\n                    }\r\n                } else {\r\n                    this.$message({\r\n                        showClose: true,\r\n                        message: \"请根据要求将信息填写完整\",\r\n                        type: \"warning\",\r\n                    })\r\n                }\r\n            })\r\n        },\r\n        resetForm() {\r\n            this.$refs.operaForm.clearValidate()\r\n            this.operaForm = {},\r\n                this.operaDialog = false\r\n        },\r\n        upApis(data) {\r\n            this.drawer = true\r\n            this.apiTreeIds = data.apis\r\n            this.$nextTick(() => {\r\n                this.$refs.apiTree.setCheckedKeys(this.apiTreeIds);\r\n            });\r\n            this.updateRole = data\r\n            \r\n        },\r\n        upApisEnter() {\r\n            const updateAPI = []\r\n            const checkAPIS = this.$refs.apiTree.getCheckedNodes()\r\n            checkAPIS.forEach(item => {\r\n                console.log(item);\r\n                if (item.apis) return\r\n                updateAPI.push(item._id)\r\n            })\r\n            this.updateRole.apis = updateAPI\r\n            teacher_role_update(this.updateRole).then(res => {\r\n                if (res.data.code === 200) {\r\n                    this.$message({\r\n                        showClose: true,\r\n                        message: '角色权限设置成功',\r\n                        type: \"success\",\r\n                    })\r\n                } else {\r\n                    this.$message({\r\n                        showClose: true,\r\n                        message: '角色权限设置失败',\r\n                        type: \"error\",\r\n                    })\r\n                }\r\n                this.getDatas()\r\n            })\r\n        },\r\n\r\n    },\r\n};\r\n</script>\r\n  \r\n<style lang=\"less\" scoped>\r\n.header {\r\n    margin-bottom: 20px;\r\n\r\n    .searchBtn {\r\n        float: right;\r\n    }\r\n\r\n    .headerForm {\r\n        padding: 0 !important;\r\n\r\n        .el-form-item {\r\n            margin-bottom: 0px;\r\n        }\r\n    }\r\n}\r\n\r\n.upload-demo {\r\n    display: flex;\r\n    flex-flow: column nowrap;\r\n    justify-content: center;\r\n    align-items: center;\r\n}\r\n\r\n.el-date-editor.el-input {\r\n    width: 100%;\r\n}\r\n\r\n.fileLink {\r\n    color: #f8f8f8;\r\n    text-decoration: none;\r\n}\r\n\r\n.el-form {\r\n    padding: 0 100px;\r\n}\r\n\r\n/deep/ .operaDialog .el-form-item__label {\r\n    padding: 0 25px 0 0;\r\n}\r\n</style>\r\n  ","import { render } from \"./teacherRole.vue?vue&type=template&id=0a32029c&scoped=true\"\nimport script from \"./teacherRole.vue?vue&type=script&lang=js\"\nexport * from \"./teacherRole.vue?vue&type=script&lang=js\"\n\nimport \"./teacherRole.vue?vue&type=style&index=0&id=0a32029c&lang=less&scoped=true\"\n\nimport exportComponent from \"C:\\\\WorkSpace\\\\vue\\\\check-work-system\\\\check-work-reception\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-0a32029c\"]])\n\nexport default __exports__"],"names":["login","data","request","url","method","getByToken","params","createManager","deleteManager","console","log","updateManager","updateManagerPassword","manager_reset_password","findManager","function_create","function_delete","function_update","function_find","function_find_by_role","teacher_role_create","teacher_role_delete","teacher_role_update","teacher_role_find","teacher_create","teacher_delete","teacher_update","teacher_update_password","teacher_find","teacher_reset_password","class_create","class_delete","class_update","class_find","student_create","student_delete","student_update","student_update_password","student_reset_password","student_find","getToken","res","token","sessionStorage","getItem","user_id","type","service","axios","baseURL","interceptors","use","config","headers","error","Promise","reject","response","code","ElMessage","message","msg","duration","router","push","err","style","_createElementBlock","_createVNode","_component_el_card","class","_component_el_form","inline","model","$data","searchHeaderForm","_component_el_form_item","_component_el_input","clearable","find","$event","placeholder","_component_el_button","onClick","$options","getDatas","_cache","handleData","_component_el_table","tableData","border","background","color","_component_el_table_column","prop","label","align","fixed","width","default","_withCtx","scope","upApis","row","deleteData","_id","length","_hoisted_1","_component_el_pagination","currentPage","pageSize","total","layout","onSizeChange","handleSizeChange","onCurrentChange","handleCurrentChange","_component_el_dialog","operaDialog","title","dialogTitle","onClose","resetForm","operaForm","ref","rules","_ctx","name","submitForm","_component_el_drawer","drawer","upApisEnter","_component_el_tree","treedata","props","defaultProps","apiTreeIds","accordion","isCollapse","search","opera","updateRole","children","created","this","getAllApi","methods","then","buildApiTree","apis","forEach","item","group","desearch","handle","value","async","page","page_size","count","addData","$message","showClose","editData","$refs","validate","valid","clearValidate","$nextTick","apiTree","setCheckedKeys","updateAPI","checkAPIS","getCheckedNodes","__exports__","render"],"sourceRoot":""}